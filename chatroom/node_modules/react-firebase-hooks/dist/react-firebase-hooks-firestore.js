!function(e,t){"use strict";var n=function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},r=function(e,t){var r;if(e.exists)return n({},e.data(),t?((r={})[t]=e.id,r):null)},o=function(e){return{loading:void 0===e||null===e,value:e}},u=function(e){var r=e?e():void 0,u=t.useReducer(function(e,t){switch(t.type){case"error":return n({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return n({},e,{error:void 0,loading:!1,value:t.value});default:return e}},o(r)),i=u[0],s=u[1];return{error:i.error,loading:i.loading,reset:function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},setError:function(e){s({type:"error",error:e})},setValue:function(e){s({type:"value",value:e})},value:i.value}},i=function(e,t){var n=!e&&!t,r=!!e&&!!t&&e.isEqual(t);return n||r},s=function(e,n){return function(e,n,r){var o=t.useRef(e);return t.useEffect(function(){n(e,o.current)||(o.current=e,r&&r())}),o}(e,i,n)},a=function(e,n){var r=u(),o=r.error,i=r.loading,a=r.reset,c=r.setError,v=r.setValue,f=r.value,l=s(e,a);return t.useEffect(function(){if(l.current){var e=n&&n.snapshotListenOptions?l.current.onSnapshot(n.snapshotListenOptions,v,c):l.current.onSnapshot(v,c);return function(){e()}}v(void 0)},[l.current]),[f,i,o]},c=function(e,n){var r=u(),o=r.error,i=r.loading,a=r.reset,c=r.setError,v=r.setValue,f=r.value,l=s(e,a);return t.useEffect(function(){l.current?l.current.get(n?n.getOptions:void 0).then(v).catch(c):v(void 0)},[l.current]),[f,i,o]},v=function(e,n){var r=u(),o=r.error,i=r.loading,a=r.reset,c=r.setError,v=r.setValue,f=r.value,l=s(e,a);return t.useEffect(function(){if(l.current){var e=n&&n.snapshotListenOptions?l.current.onSnapshot(n.snapshotListenOptions,v,c):l.current.onSnapshot(v,c);return function(){e()}}v(void 0)},[l.current]),[f,i,o]},f=function(e,n){var r=u(),o=r.error,i=r.loading,a=r.reset,c=r.setError,v=r.setValue,f=r.value,l=s(e,a);return t.useEffect(function(){l.current?l.current.get(n?n.getOptions:void 0).then(v).catch(c):v(void 0)},[l.current]),[f,i,o]};e.useCollection=a,e.useCollectionData=function(e,n){var o=n?n.idField:void 0,u=n?n.snapshotListenOptions:void 0,i=a(e,{snapshotListenOptions:u}),s=i[0],c=i[1],v=i[2];return[t.useMemo(function(){return s?s.docs.map(function(e){return r(e,o)}):void 0},[s,o]),c,v]},e.useCollectionOnce=c,e.useCollectionDataOnce=function(e,t){var n=t?t.idField:void 0,o=t?t.getOptions:void 0,u=c(e,{getOptions:o}),i=u[0],s=u[1],a=u[2];return[i?i.docs.map(function(e){return r(e,n)}):void 0,s,a]},e.useDocument=v,e.useDocumentData=function(e,n){var o=n?n.idField:void 0,u=n?n.snapshotListenOptions:void 0,i=v(e,{snapshotListenOptions:u}),s=i[0],a=i[1],c=i[2];return[t.useMemo(function(){return s?r(s,o):void 0},[s,o]),a,c]},e.useDocumentOnce=f,e.useDocumentDataOnce=function(e,t){var n=t?t.idField:void 0,o=t?t.getOptions:void 0,u=f(e,{getOptions:o}),i=u[0],s=u[1],a=u[2];return[i?r(i,n):void 0,s,a]}}(this["react-firebase-hooks"]=this["react-firebase-hooks"]||{},react);
//# sourceMappingURL=react-firebase-hooks-firestore.js.map
